{"ast":null,"code":"var _jsxFileName = \"/Users/igahupalo/Pictures/GitHub/psp5_website/frontend/src/components/elements/Post.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\";\nexport class Post extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      imgUrl: '',\n      isLoaded: false,\n      isExpanded: false\n    };\n  }\n\n  componentDidMount() {\n    const {\n      featured_media\n    } = this.props.post;\n    axios.get(`/wp-json/wp/v2/media/${featured_media}`).then(res => this.setState({\n      imgUrl: res.data.media_details.sizes.full.source_url,\n      isLoaded: true,\n      isExpanded: false\n    }));\n  }\n\n  extendButtonClick() {\n    this.setState({\n      isExpanded: !this.state.isExpanded\n    });\n  }\n\n  render() {\n    const {\n      title,\n      date,\n      excerpt,\n      content,\n      acf\n    } = this.props.post;\n    const {\n      imgUrl,\n      isLoaded,\n      isExpanded\n    } = this.state;\n    const attachments = [acf.attachment1, acf.attachment2, acf.attachment3, acf.attachment4, acf.attachment5];\n\n    if (isLoaded) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"post\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: imgUrl,\n        alt: title.rendered,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }\n      }), isExpanded ? attachments.map(att => {\n        if (att) {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            key: att.id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 45\n            }\n          }, /*#__PURE__*/React.createElement(\"p\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 49\n            }\n          }, att.title), /*#__PURE__*/React.createElement(\"a\", {\n            href: att.url,\n            rel: \"noopener noreferrer\",\n            target: \"_blank\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 49\n            }\n          }, \"o \"), /*#__PURE__*/React.createElement(\"a\", {\n            href: att.url,\n            download: att.title,\n            target: \"_blank\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 49\n            }\n          }, \" v\"));\n        }\n      }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"post-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }\n      }, title.rendered), /*#__PURE__*/React.createElement(\"small\", {\n        className: \"post-date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }\n      }, date), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"post-text\",\n        dangerouslySetInnerHTML: {\n          __html: isExpanded ? content.rendered : excerpt.rendered\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"post-button button-accent-2\",\n        onClick: this.extendButtonClick.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }\n      }, isExpanded ? \"mniej\" : \"wiÄ™cej\")));\n    }\n\n    return null;\n  }\n\n}\nPost.propTypes = {\n  post: PropTypes.object.isRequired\n};\nexport default Post;","map":{"version":3,"sources":["/Users/igahupalo/Pictures/GitHub/psp5_website/frontend/src/components/elements/Post.js"],"names":["React","Component","PropTypes","axios","Post","state","imgUrl","isLoaded","isExpanded","componentDidMount","featured_media","props","post","get","then","res","setState","data","media_details","sizes","full","source_url","extendButtonClick","render","title","date","excerpt","content","acf","attachments","attachment1","attachment2","attachment3","attachment4","attachment5","rendered","map","att","id","url","__html","bind","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\";\n\nexport class Post extends Component {\n    state = {\n        imgUrl: '',\n        isLoaded: false,\n        isExpanded: false\n    }\n\n    static propTypes = {\n        post: PropTypes.object.isRequired\n    }\n\n    componentDidMount() {\n        const {featured_media} = this.props.post;\n        axios.get(`/wp-json/wp/v2/media/${featured_media}`)\n            .then(res => this.setState({\n                imgUrl: res.data.media_details.sizes.full.source_url,\n                isLoaded: true,\n                isExpanded: false\n            }));\n    }\n\n    extendButtonClick(){\n        this.setState({\n            isExpanded: !this.state.isExpanded\n        });\n    }\n\n    render() {\n        const {title, date, excerpt, content, acf} = this.props.post;\n        const {imgUrl, isLoaded, isExpanded} = this.state;\n        const attachments = [\n            acf.attachment1,\n            acf.attachment2,\n            acf.attachment3,\n            acf.attachment4,\n            acf.attachment5\n        ];\n\n        if (isLoaded){\n            return (\n                <div className={\"post\"}>\n                    <div>\n                        <img src={imgUrl} alt={title.rendered}/>\n                        {\n                            isExpanded ?\n                                attachments.map(att => {\n                                    if (att){\n                                        return (\n                                            <div key={att.id}>\n                                                <p>{att.title}</p>\n                                                <a href={att.url} rel={\"noopener noreferrer\"} target={\"_blank\"}>o </a>\n                                                <a href={att.url} download={att.title} target={\"_blank\"}> v</a>\n                                            </div>\n                                        )\n                                    }\n                                })\n                            : \"\"\n                        }\n                    </div>\n                    <div>\n                        <h2 className={\"post-title\"}>{title.rendered}</h2>\n                        <small className={\"post-date\"}>{date}</small>\n                        <p className={\"post-text\"} dangerouslySetInnerHTML={{ __html: isExpanded ? content.rendered : excerpt.rendered}} />\n                        <button className={\"post-button button-accent-2\"} onClick={this.extendButtonClick.bind(this)}>{isExpanded ? \"mniej\" : \"wiÄ™cej\"}</button>\n                    </div>\n                </div>\n            );\n        }\n        return null;\n    }\n}\n\nexport default Post;"]},"metadata":{},"sourceType":"module"}