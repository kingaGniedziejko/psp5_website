{"ast":null,"code":"import _classCallCheck from\"/Users/igahupalo/Pictures/GitHub/psp5_website/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/igahupalo/Pictures/GitHub/psp5_website/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/igahupalo/Pictures/GitHub/psp5_website/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/igahupalo/Pictures/GitHub/psp5_website/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{NavLink}from\"react-router-dom\";import axios from\"axios\";import Submenu from\"./Submenu\";import{ReactComponent as IconHome}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../images/home.svg\";import{ReactComponent as IconSearch}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../images/search.svg\";export var Menu=/*#__PURE__*/function(_Component){_inherits(Menu,_Component);var _super=_createSuper(Menu);function Menu(){var _this;_classCallCheck(this,Menu);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={barItems:[],isLoaded:false,width:0};return _this;}_createClass(Menu,[{key:\"updateDimensions\",value:function updateDimensions(){if(window.innerWidth<500){this.setState({width:450,height:102});}else{var update_width=window.innerWidth-100;this.setState({width:update_width});}}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.updateDimensions();window.addEventListener(\"resize\",this.updateDimensions.bind(this));axios.get(\"/wp-json/menus/v1/menus/main-menu\").then(function(res){return _this2.setState({barItems:res.data.items,isLoaded:true});}).catch(function(err){return console.log(err);});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener(\"resize\",this.updateDimensions.bind(this));}},{key:\"render\",value:function render(){var _this$state=this.state,barItems=_this$state.barItems,isLoaded=_this$state.isLoaded;if(isLoaded){if(this.state.width>1060){return/*#__PURE__*/React.createElement(\"ul\",{id:\"menu\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/\",exact:true,activeClassName:\"menu-item-active\"},/*#__PURE__*/React.createElement(\"li\",{className:\"menu-item\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(IconHome,null)))),barItems.map(function(barItem,index){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(NavLink,{to:barItem.url,activeClassName:\"menu-item-active\"},/*#__PURE__*/React.createElement(\"li\",{className:\"menu-item\"},/*#__PURE__*/React.createElement(\"div\",null,barItem.title))),/*#__PURE__*/React.createElement(Submenu,{key:index,barItem:barItem,barItemNo:index}));}),/*#__PURE__*/React.createElement(\"a\",{href:\"#\",onClick:console.log(\"search\")},/*#__PURE__*/React.createElement(\"li\",{className:\"menu-item\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(IconSearch,null)))));}}if(this.props.open){return/*#__PURE__*/React.createElement(\"div\",{id:\"side-menu\"},barItems.map(function(barItem,index){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(NavLink,{to:barItem.url,activeClassName:\"menu-item-active\"},/*#__PURE__*/React.createElement(\"li\",{className:\"side-menu-item\"},/*#__PURE__*/React.createElement(\"div\",null,barItem.title))),/*#__PURE__*/React.createElement(Submenu,{key:index,barItem:barItem,barItemNo:index}));}));}return null;}}]);return Menu;}(Component);export default Menu;","map":{"version":3,"sources":["/Users/igahupalo/Pictures/GitHub/psp5_website/frontend/src/components/elements/Menu.js"],"names":["React","Component","NavLink","axios","Submenu","Menu","state","barItems","isLoaded","width","window","innerWidth","setState","height","update_width","updateDimensions","addEventListener","bind","get","then","res","data","items","catch","err","console","log","removeEventListener","map","barItem","index","url","title","props","open"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport {NavLink} from \"react-router-dom\";\nimport axios from \"axios\";\nimport Submenu from \"./Submenu\"\nimport { ReactComponent as IconHome } from '../../images/home.svg';\nimport { ReactComponent as IconSearch } from '../../images/search.svg';\n\nexport class Menu extends Component {\n    state = {\n        barItems: [],\n        isLoaded: false,\n        width:  0\n    }\n\n    updateDimensions() {\n        if(window.innerWidth < 500) {\n            this.setState({ width: 450, height: 102 });\n        } else {\n            let update_width  = window.innerWidth-100;\n            this.setState({ width: update_width});\n        }\n    }\n\n    componentDidMount() {\n        this.updateDimensions();\n        window.addEventListener(\"resize\", this.updateDimensions.bind(this));\n        axios.get(\"/wp-json/menus/v1/menus/main-menu\")\n            .then(res => this.setState({\n                barItems: res.data.items,\n                isLoaded: true\n            }))\n            .catch(err => console.log(err));\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n    }\n\n    render() {\n        const {barItems, isLoaded} = this.state;\n\n        if(isLoaded) {\n            if(this.state.width > 1060) {\n                return (\n                    <ul id={\"menu\"}>\n                        <NavLink to={\"/\"} exact activeClassName={\"menu-item-active\"}>\n                            <li className={\"menu-item\"} >\n                                <div><IconHome /></div>\n                            </li>\n                        </NavLink>\n\n                        {\n                            barItems.map((barItem, index) => {\n                                return (\n                                    <div>\n                                        <NavLink to={barItem.url} activeClassName={\"menu-item-active\"}>\n                                            <li className={\"menu-item\"}>\n                                                <div>{barItem.title}</div>\n                                            </li>\n                                        </NavLink>\n                                        <Submenu key={index} barItem={barItem} barItemNo={index} />\n                                    </div>\n                                );\n                            })\n                        }\n\n                        <a href={\"#\"} onClick={console.log(\"search\")}>\n                            <li className={\"menu-item\"}>\n                                <div><IconSearch /></div>\n                            </li>\n                        </a>\n                    </ul>\n                );\n            }\n        }\n        if(this.props.open) {\n            return (\n                <div id={\"side-menu\"}>\n                    {\n                        barItems.map((barItem, index) => {\n                            return (\n                                <div>\n                                    <NavLink to={barItem.url} activeClassName={\"menu-item-active\"}>\n                                        <li className={\"side-menu-item\"}>\n                                            <div>{barItem.title}</div>\n                                        </li>\n                                    </NavLink>\n                                    <Submenu key={index} barItem={barItem} barItemNo={index}/>\n                                </div>\n                            );\n                        })\n                    }\n                </div>\n            );\n        }\n\n        return null;\n    }\n}\n\nexport default Menu;"]},"metadata":{},"sourceType":"module"}