{"ast":null,"code":"var _jsxFileName = \"/Users/igahupalo/Pictures/GitHub/psp5_website/frontend/src/components/elements/PostDisplay.js\";\nimport React, { Component } from \"react\";\nimport Post from \"../elements/Post\";\nimport axios from \"axios\";\nimport \"../../styles/posts_style.css\";\nexport class PostDisplay extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      posts: [],\n      categories: [],\n      isLoaded: false\n    };\n  }\n\n  componentDidMount() {\n    const getPosts = axios.get(\"/wp-json/wp/v2/news\");\n    const getCategories = axios.get(\"/wp-json/wp/v2/categories\");\n    Promise.all([getPosts, getCategories]).then(res => this.setState({\n      posts: res[0].data,\n      categories: res[1].data,\n      isLoaded: true\n    })).catch(err => console.log(err));\n  }\n\n  render() {\n    let {\n      posts,\n      categories,\n      isLoaded\n    } = this.state;\n    const {\n      postCategory,\n      postsCount\n    } = this.props;\n\n    if (postCategory !== \"\") {\n      const category = categories.find(cat => cat.slug.toLowerCase() === postCategory.toLowerCase());\n      posts = posts.filter(elem => elem.categories[0] === category.id);\n    }\n\n    if (isLoaded) {\n      console.log(posts);\n\n      if (postsCount === -1) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"posts-container\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 21\n          }\n        }, posts.map((post, index) => {\n          return /*#__PURE__*/React.createElement(Post, {\n            key: post.id,\n            post: post,\n            postNr: index,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 36\n            }\n          });\n        }));\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"posts-container\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 21\n          }\n        }, posts.slice(0, postsCount).map((post, index) => {\n          return /*#__PURE__*/React.createElement(Post, {\n            key: post.id,\n            post: post,\n            postNr: index,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 36\n            }\n          });\n        }));\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 16\n      }\n    }, \"...\");\n  }\n\n}\nexport default PostDisplay;","map":{"version":3,"sources":["/Users/igahupalo/Pictures/GitHub/psp5_website/frontend/src/components/elements/PostDisplay.js"],"names":["React","Component","Post","axios","PostDisplay","state","posts","categories","isLoaded","componentDidMount","getPosts","get","getCategories","Promise","all","then","res","setState","data","catch","err","console","log","render","postCategory","postsCount","props","category","find","cat","slug","toLowerCase","filter","elem","id","map","post","index","slice"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport Post from \"../elements/Post\"\nimport axios from \"axios\";\nimport \"../../styles/posts_style.css\"\n\nexport class PostDisplay extends Component {\n    state = {\n        posts: [],\n        categories: [],\n        isLoaded: false\n    }\n\n    componentDidMount() {\n        const getPosts = axios.get(\"/wp-json/wp/v2/news\");\n        const getCategories = axios.get(\"/wp-json/wp/v2/categories\");\n\n        Promise.all([getPosts, getCategories])\n            .then(res => this.setState({\n                posts: res[0].data,\n                categories: res[1].data,\n                isLoaded: true\n            }))\n            .catch(err => console.log(err));\n    }\n\n    render() {\n        let {posts, categories, isLoaded} = this.state;\n        const {postCategory, postsCount} = this.props;\n\n        if (postCategory !== \"\"){\n            const category = categories.find(cat => cat.slug.toLowerCase() === postCategory.toLowerCase());\n            posts = posts.filter(elem => elem.categories[0] === category.id);\n        }\n\n        if(isLoaded){\n            console.log(posts);\n            if (postsCount === -1) {\n                return (\n                    <div className={\"posts-container\"}>\n                        {posts.map((post, index) => {\n                            return <Post key={post.id} post={post} postNr={index} />;\n                        })}\n                    </div>\n                );\n            } else {\n                return (\n                    <div className={\"posts-container\"}>\n                        {posts.slice(0, postsCount).map((post, index) => {\n                            return <Post key={post.id} post={post} postNr={index} />;\n                        })}\n                    </div>\n                );\n            }\n\n        }\n        return <h3>...</h3> ;\n    }\n}\n\nexport default PostDisplay;"]},"metadata":{},"sourceType":"module"}